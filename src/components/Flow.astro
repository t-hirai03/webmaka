---
import { Mail, MessageCircle, PenTool, Rocket } from 'lucide-astro';
import Button from './ui/Button.astro';
import Heading from './ui/Heading.astro';
import SectionTitle from './ui/SectionTitle.astro';

const flows = [
	{
		icon: Mail,
		number: 1,
		title: 'お問い合わせ',
		description:
			'<a href="/contact" class="text-primary underline underline-offset-2 hover:no-underline">フォーム</a>からご連絡ください',
	},
	{
		icon: MessageCircle,
		number: 2,
		title: 'ヒアリング・お見積もり',
		description: 'ご要望を伺い、お見積もりを提示します',
	},
	{
		icon: PenTool,
		number: 3,
		title: '制作・確認',
		description: '制作を進めながら確認・修正を行います',
	},
	{
		icon: Rocket,
		number: 4,
		title: '納品・公開',
		description: '完成後、納品・公開対応をします',
	},
];
---

<section id="flow" class="pt-12 pb-16 md:pt-28 md:pb-32 bg-bg-main">
  <div class="max-w-[var(--container-max)] mx-auto px-4">
    <SectionTitle title="Flow" subtitle="ご依頼の流れ" />
    <ol class="grid gap-6 md:grid-cols-4 list-none p-0 m-0">
      {
        flows.map((flow) => (
          <li class="flex flex-col bg-white rounded-2xl px-6 py-8 shadow-sm">
            <div class="relative w-fit mb-5">
              <div class="flex items-center justify-center w-14 h-14 bg-primary text-white rounded-xl">
                <flow.icon size={24} strokeWidth={1.5} />
              </div>
              <span class="absolute -top-2 -right-2 flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-accent rounded-full">{flow.number}</span>
            </div>
            <Heading level={3} variant="card" class="mb-2">{flow.title}</Heading>
            <p class="text-sm leading-relaxed text-text-muted m-0" set:html={flow.description} />
          </li>
        ))
      }
    </ol>
    <div class="mt-12 text-center">
      <Button href="/contact" class="rounded-full">お問い合わせはこちら</Button>
    </div>
  </div>
</section>
