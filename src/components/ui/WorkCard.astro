---
import { Image } from 'astro:assets';
import type { ImageMetadata } from 'astro';
import { ExternalLink } from 'lucide-astro';
import Heading from '@/components/ui/Heading.astro';

interface Props {
	title: string;
	category: string;
	description: string;
	url: string;
	image: ImageMetadata;
}

const { title, category, description, url, image } = Astro.props;
---

<article class="shrink-0 basis-card snap-center rounded-2xl bg-white shadow-card overflow-hidden md:shrink md:basis-auto">
	<a href={url} target="_blank" rel="noopener noreferrer" class="block no-underline text-inherit h-full group">
		<div class="aspect-card overflow-hidden">
			<Image
				src={image}
				alt={title}
				width={640}
				format="webp"
				quality={80}
				loading="lazy"
				class="w-full h-full object-cover object-top"
			/>
		</div>
		<div class="p-6">
			<div class="flex justify-between items-center mb-2">
				<span class="inline-block text-xs font-semibold text-primary bg-tag-site px-3 py-1.5 rounded-full">
					{category}
				</span>
				<ExternalLink
					class="text-text-muted transition-colors duration-200 group-hover:text-primary"
					size={16}
				/>
			</div>
			<Heading level={3} variant="card" class="mb-1 leading-snug">{title}</Heading>
			<p class="text-sm text-text-muted leading-relaxed">{description}</p>
		</div>
	</a>
</article>
