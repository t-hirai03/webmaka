@import "tailwindcss";

/* Storybookのソースをスキャン対象に追加 */
@source "../stories/**/*.ts";

/* Zen Maru Gothic - セルフホスト（サブセット版） */
@font-face {
  font-family: 'Zen Maru Gothic';
  src: url('/fonts/ZenMaruGothic-Regular-subset.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Zen Maru Gothic';
  src: url('/fonts/ZenMaruGothic-Medium-subset.woff2') format('woff2');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Zen Maru Gothic';
  src: url('/fonts/ZenMaruGothic-Bold-subset.woff2') format('woff2');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: 'Noto Sans JP', sans-serif;
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
}

@theme {
  /* ===== フォントファミリー ===== */
  --font-display: 'Zen Maru Gothic', sans-serif; /* セクションタイトル用 */

  /* ===== カラー ===== */

  /* 背景色 */
  --color-bg-main: #F7F4E9; /* grey.94 - サイト全体の背景 */
  --color-bg-section: #F5F0E8; /* セクション背景 */
  --color-white-70: rgba(255, 255, 255, 0.7); /* White 70% - オーバーレイ等 */

  /* メインカラー（Spring Green） */
  --color-primary: #3D8B6E; /* spring-green.39 - メインブランドカラー */
  --color-primary-dark: #2D6B52; /* ホバー時 */
  --color-primary-light: #4DA882; /* spring-green.48 */
  --color-primary-0: rgba(61, 139, 110, 0); /* spring-green.39 0% - グラデーション用 */
  --color-primary-10: rgba(61, 139, 110, 0.1); /* spring-green.39 10% - 背景のアクセント等 */
  --color-primary-30: rgba(61, 139, 110, 0.3); /* spring-green.39 30% - マーカー等 */

  /* アクセントカラー（Orange） */
  --color-accent: #E8A87C; /* orange.70 */
  --color-accent-dark: #D8956A; /* ホバー時 */
  --color-accent-light: #F0BFA0;

  /* マーカーカラー（Gold） */
  --color-marker-gold: rgba(212, 160, 23, 0.6); /* MVのアンダーライン */

  /* CTAボタン */
  --color-cta: #D97757; /* お問い合わせボタン */
  --color-cta-dark: #C86747; /* ホバー時 */

  /* ゴールドボタン（フォーム送信等） */
  --color-gold: #C9902E; /* 送信ボタン */
  --color-gold-dark: #AA700B; /* ホバー時 */
  --color-gold-border: #AA700B;

  /* グレー系 */
  --color-grey-91: #E5E7EB; /* grey.91 - ボーダー、プログレスバー非アクティブ */
  --color-grey-96: #F3F4F6; /* grey.96 - 薄い背景 */

  /* テキストカラー */
  --color-text: #374151; /* azure.27 - 本文テキスト */
  --color-text-muted: #6B7280; /* grey.46 - 補足テキスト */

  /* エラー */
  --color-error: #DC2626; /* red.51 - フォームエラー */

  /* タグ背景色 */
  --color-tag-site: #ECF3F0; /* タグ-サイト種別（WorkCard） */
  --color-tag-service: #F7F4E9; /* タグ-サービス（ServiceCard） */

  /* 技術ブランドカラー */
  --color-brand-html: #E34F26; /* red.52 - HTML */
  --color-brand-javascript: #F7DF1E; /* yellow.54 - JavaScript */
  --color-brand-typescript: #3178C6; /* azure.48 - TypeScript */
  --color-brand-react: #61DAFB; /* cyan.68 - React */
  --color-brand-astro: #BC52EE; /* violet.63 - Astro */
  --color-brand-tailwind: #36C7D0; /* cyan.51 - Tailwind */
  --color-brand-wordpress: #21759B; /* azure.37 - WordPress */
  --color-brand-docker: #2496ED; /* azure.54 - Docker */
  --color-brand-blue: #4169E1; /* blue.57 */

  /* ボタン影 */
  --shadow-button: 0px 5px 0px 0px rgba(61, 61, 61, 0.2);
  --shadow-button-hover: 0px 3px 0px 0px rgba(61, 61, 61, 0.2); /* ホバー時の影（少し小さく） */
  --shadow-button-active: 0px 0px 0px 0px rgba(61, 61, 61, 0.2); /* 押下時の影（なし） */

  /* カード影 */
  --shadow-card: 0px 2px 10px 0px rgba(0, 0, 0, 0.16);

  /* ===== レイアウト ===== */

  /* コンテナ幅 */
  --max-width-container: 1440px; /* 最大コンテナ幅 */
  --max-width-content: 1240px; /* コンテンツ幅 */
  --max-width-section: 1160px; /* セクションコンテンツ幅（PC） */

  /* カード幅 */
  --width-275px: 275px; /* WorkCard SP幅 */
  --width-373px: 373px; /* WorkCard PC幅 */

  /* FlowCard */
  --width-flow-number: 75px; /* FlowCard番号部分の幅 */
  --width-flow-icon: 50px; /* FlowCardアイコンの幅 */
  --inset-flow-arrow: 22px; /* FlowCard矢印アイコンの右位置 */

  /* プログレスバー幅 */
  --width-progress: 576px; /* お問い合わせプログレスバー */

  /* フォーム幅 */
  --max-width-form: 756px; /* お問い合わせフォーム */

  /* サイドバー幅（w-sidebar, ps-sidebar等で使用） */
  --spacing-sidebar: 200px; /* About等のサイドバー */
  --spacing-sidebar-mobile: 150px; /* モバイルメニュー幅 */

  /* ヘッダー高さ */
  --height-header: 80px; /* PC版ヘッダー */
  --height-header-mobile: 64px; /* モバイルヘッダー */

  /* 最小高さ */
  --min-height-page: calc(100dvh - var(--height-header)); /* ページ最小高さ */

  /* ページ上余白（モバイル用） */
  --spacing-page-top-hero: calc(64px + var(--height-header-mobile)); /* Hero上余白 */
  --spacing-page-top-section: calc(48px + var(--height-header-mobile)); /* セクション上余白 */
  --spacing-page-top-about: calc(var(--spacing-15) + var(--height-header-mobile)); /* About上余白 */

  /* ===== タイポグラフィ ===== */

  /* フォントサイズ（Figmaトークン - rem単位） */
  --font-size-2xs: 0.625rem; /* 10px */
  --font-size-xs: 0.75rem; /* 12px */
  --font-size-xs-plus: 0.8125rem; /* 13px */
  --font-size-sm: 0.875rem; /* 14px */
  --font-size-sm-plus: 0.9375rem; /* 15px */
  --font-size-base: 1rem; /* 16px */
  --font-size-lg: 1.125rem; /* 18px */
  --font-size-xl: 1.25rem; /* 20px */
  --font-size-2xl: 1.5rem; /* 24px */
  --font-size-3xl: 1.875rem; /* 30px */
  --font-size-4xl: 2.25rem; /* 36px */
  --font-size-5xl: 3rem; /* 48px */

  /* レスポンシブフォントサイズ */
  --font-size-section-title: clamp(2rem, 1.5rem + 2vw, 3rem); /* セクションタイトル: 32px → 48px */
  --font-size-section-subtitle: clamp(1rem, 0.9rem + 0.5vw, 1.125rem); /* セクションサブタイトル: 16px → 18px */

  /* フォントサイズ（px指定用 - 実際に使用されている値のみ） */
  --font-size-13px: 13px; /* プログレスバー（SP） */
  --font-size-18px: 18px; /* ServiceCard価格単位 */
  --font-size-22px: 22px; /* CTAボタン */
  --font-size-30px: 30px; /* ServiceCard価格ラベル */
  --font-size-42px: 42px; /* MVテキスト（小） */
  --font-size-54px: 54px; /* MVテキスト（大） */

  /* 行間（Figmaトークン） */
  --leading-tight: 1.25; /* 20px base */
  --leading-snug: 1.375;
  --leading-normal: 1.5;
  --leading-normal-plus: 1.6; /* フォーム等の行間 */
  --leading-relaxed: 1.625; /* 26px base */
  --leading-relaxed-plus: 1.8; /* 本文の読みやすい行間 */
  --leading-loose: 2;
  --leading-29px: 29.25px; /* FlowCard STEPバッジの行間 */
  --leading-30px: 30px; /* ServiceCard価格の行間 */

  /* 字間（Figmaトークン） */
  --tracking-tight: 0.35px; /* letter-spacing.0_35 */
  --tracking-normal: 0.5px; /* letter-spacing.0_5 */

  /* ===== 間隔（実際に使用されている値のみ） ===== */

  /* 小さい間隔（1px〜10px） */
  --spacing-3px: 3px; /* マーカー角丸 */
  --spacing-4px: 4px; /* STEPバッジpadding-y */
  --spacing-7px: 7px; /* WorkCardタグpadding-y */
  --spacing-8px: 8px; /* WorkCard内部gap、プログレスバー（SP）padding */
  --spacing-10px: 10px; /* ServiceCard内部gap、プログレスバー矢印幅（SP） */

  /* 中程度の間隔（12px〜24px） */
  --spacing-12px: 12px; /* WorkCardタグpadding-x、ServiceCardタグpadding-x */
  --spacing-16px: 16px; /* セクションpadding-x（SP）、gap、FlowCard内部gap */
  --spacing-18px: 18px; /* CTAボタンpadding-y、FlowCard上部padding（SP） */
  --spacing-20px: 20px; /* グリッドgap（PC）、ServiceCard内部padding */
  --spacing-21px: 21px; /* ServiceCard上部padding */
  --spacing-22px: 22px; /* ServiceCard横padding */
  --spacing-24px: 24px; /* カードpadding、FlowCard内部gap（PC） */

  /* 大きい間隔（30px〜64px） */
  --spacing-30px: 30px; /* ServiceCard価格行間 */
  --spacing-32px: 32px; /* セクション内部gap（SP） */
  --spacing-40px: 40px; /* セクションpadding-x（PC） */
  --spacing-45px: 45px; /* セクションpadding-y（SP） */
  --spacing-46px: 46px; /* ServiceCardキャッチコピー高さ */
  --spacing-48px: 48px; /* コンタクトページ上部padding */
  --spacing-64px: 64px; /* セクション内部gap（PC） */

  /* 特大間隔（80px以上） */
  --spacing-80px: 80px; /* コンタクトページpadding-y（PC） */
  --spacing-105px: 105px; /* FlowCardアイコン高さ（PC） */
  --spacing-112px: 112px; /* セクションpadding-y（PC） */
  --spacing-130px: 130px; /* コンタクトセクション上部padding（PC） */
  --spacing-145px: 145px; /* ServiceCard説明文min-height */
  --spacing-167px: 167px; /* MVマーカー幅 */
  --spacing-191px: 191px; /* ServiceCard価格エリア幅 */
  --spacing-200px: 200px; /* 確認ページボタンmax-width */
  --spacing-275px: 275px; /* WorkCard幅（SP） */
  --spacing-320px: 320px; /* ServiceCard高さ */
  --spacing-359px: 359px; /* HVイメージmax-width（SP） */

  /* 特殊用途の間隔 */
  --spacing-15: 60px; /* aboutページのセクション余白 */
  --spacing-1-25: 5px; /* ハンバーガーメニューのline間隔 */

  /* ===== ボーダー ===== */
  --border-width-1: 1px; /* stroke-weight.1 */
  --border-width-2: 2px; /* stroke-weight.2 */
  --border-width-3: 3px; /* stroke-weight.3 / プロフィール画像の枠線 */

  /* ===== 角丸（実際に使用されている値のみ） ===== */
  --radius-3px: 3px; /* MVマーカー */
  --radius-6px: 6px; /* STEPバッジ、ServiceCardタグ、プログレスバー（SP） */
  --radius-8px: 8px; /* ハンバーガーボタン、プログレスバー */
  --radius-16px: 16px; /* カード全般（WorkCard, FlowCard, ServiceCard） */

  /* ===== z-index ===== */
  --z-menu-button: 10000; /* ハンバーガーボタン（メニューより上） */
  --z-menu: 9999; /* ハンバーガーメニュー・サイドバー */
  --z-menu-overlay: 9998; /* メニューオーバーレイ */
  --z-modal: 60; /* モバイルメニューボタン（後方互換用） */
  --z-overlay: 49; /* オーバーレイ背景（後方互換用） */

  /* ===== その他 ===== */

  /* アスペクト比 */
  --aspect-card: 16/10; /* Works実績カードの画像比率 */

  /* translate */
  --translate-hamburger: 5px; /* ハンバーガーアイコンのアニメーション移動量 */
  --translate-button-hover: 2px; /* ボタンホバー時の移動量 */
  --translate-button-press: 5px; /* ボタン押下時の移動量 */

  /* 背景 */
  --background-image-marker: linear-gradient(transparent 60%, rgba(61, 139, 110, 0.3) 60%); /* ヒーローのマーカー効果 */
  --background-image-marker-gold: linear-gradient(transparent 70%, rgba(212, 160, 23, 0.6) 70%); /* MVのゴールドマーカー */
  --background-size-zero: 0% 100%; /* マーカーアニメーション開始状態 */

  /* アニメーション */
  --animate-marker-draw: marker-draw 1s ease-out 0.3s forwards; /* ヒーローのマーカー描画アニメーション */
}

@keyframes marker-draw {
  from {
    background-size: 0% 100%;
  }
  to {
    background-size: 100% 100%;
  }
}

/* スクロールバー非表示 */
@utility scrollbar-none {
  scrollbar-width: none;
  -webkit-overflow-scrolling: touch;
  &::-webkit-scrollbar {
    display: none;
  }
}

/* セレクトボックスの矢印位置（右端）*/
@utility bg-position-select {
  background-position: right 16px center;
}

/* セレクトボックスの矢印サイズ */
@utility bg-size-select {
  background-size: 16px 16px;
}

/* モバイルスライダーのカード幅 */
@utility basis-card {
  flex-basis: 85%;
}

/* セクションタイトル用フォントサイズ（レスポンシブ） */
@utility text-section-title {
  font-size: var(--font-size-section-title);
}

@utility text-section-subtitle {
  font-size: var(--font-size-section-subtitle);
}

/* MVテキスト用フォントサイズ */
@utility text-54px {
  font-size: var(--font-size-54px);
}

@utility text-42px {
  font-size: var(--font-size-42px);
}

/* ===== z-index ===== */
@utility z-menu-button {
  z-index: 10000;
}

@utility z-menu {
  z-index: 9999;
}

@utility z-menu-overlay {
  z-index: 9998;
}

/* ボタンホバー時のtranslate */
@utility translate-y-button-hover {
  translate: 0 var(--translate-button-hover);
}

/* ボタン押下時のtranslate */
@utility translate-y-button-press {
  translate: 0 var(--translate-button-press);
}

/* ===== プログレスバー ===== */

/* プログレスバーコンテナ */
.progressbar {
  display: flex;
  flex-wrap: wrap;
}

/* プログレスバー各ステップ */
.progressbar .item {
  position: relative;
  width: 33%;
  text-align: center;
  padding: 13px 0;
  font-size: 15px;
  font-weight: 500;
  line-height: 1.8;
  background: var(--color-grey-91);
  color: var(--color-text);
  border-radius: 8px 0 0 8px;
}

.progressbar .item:not(:first-child) {
  border-radius: 0;
}

.progressbar .item:last-child {
  border-radius: 0 8px 8px 0;
}

/* 矢印形状（clip-path使用） */
.progressbar .item:not(:last-child)::before,
.progressbar .item:not(:last-child)::after {
  position: absolute;
  z-index: 2;
  top: 0;
  left: calc(100% - 1px);
  content: '';
  width: 12px;
  height: 100%;
  background: var(--color-grey-91);
  clip-path: polygon(0 0, 100% 50%, 0 100%);
}

.progressbar .item:not(:last-child)::before {
  margin-left: 1px;
  background: var(--color-bg-section);
}

/* アクティブ状態 */
.progressbar .item.active {
  z-index: 1;
  background: var(--color-primary);
  color: #FFF;
}

.progressbar .item.active:not(:last-child)::after {
  background: var(--color-primary);
}

.progressbar .item.active:not(:last-child)::before {
  display: none;
}

/* レスポンシブ */
@media screen and (max-width: 767px) {
  .progressbar .item {
    font-size: 13px;
    line-height: 1.8;
    padding: 8px 0;
    border-radius: 6px 0 0 6px;
  }

  .progressbar .item:last-child {
    border-radius: 0 6px 6px 0;
  }

  .progressbar .item:not(:last-child)::before,
  .progressbar .item:not(:last-child)::after {
    width: 10px;
  }
}
