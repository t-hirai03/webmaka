@import "tailwindcss";

/* Storybookのソースをスキャン対象に追加 */
@source "../stories/**/*.ts";

/* Zen Maru Gothic - セルフホスト（サブセット版） */
@font-face {
  font-family: 'Zen Maru Gothic';
  src: url('/fonts/ZenMaruGothic-Regular-subset.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Zen Maru Gothic';
  src: url('/fonts/ZenMaruGothic-Medium-subset.woff2') format('woff2');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Zen Maru Gothic';
  src: url('/fonts/ZenMaruGothic-Bold-subset.woff2') format('woff2');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: 'Zen Maru Gothic', sans-serif;
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
}

@theme {
  /* ===== カラー ===== */

  /* 背景色 */
  --color-bg-main: #F7F4E9; /* grey.94 */
  --color-bg-section: #F5F0E8;
  --color-white-70: rgba(255, 255, 255, 0.7); /* White 70% - オーバーレイ等 */

  /* メインカラー（Spring Green） */
  --color-primary: #3D8B6E; /* spring-green.39 */
  --color-primary-dark: #2D6B52;
  --color-primary-light: #4DA882; /* spring-green.48 */
  --color-primary-0: rgba(61, 139, 110, 0); /* spring-green.39 0% - グラデーション用 */
  --color-primary-10: rgba(61, 139, 110, 0.1); /* spring-green.39 10% - 背景のアクセント等 */
  --color-primary-30: rgba(61, 139, 110, 0.3); /* spring-green.39 30% - マーカー等 */

  /* アクセントカラー（Orange） */
  --color-accent: #E8A87C; /* orange.70 */
  --color-accent-dark: #D8956A;
  --color-accent-light: #F0BFA0;

  /* CTAボタン */
  --color-cta: #D97757;
  --color-cta-dark: #C86747;

  /* 確認ボタン */
  --color-confirm: #C9902E;
  --color-confirm-dark: #AA700B;
  --color-confirm-border: #AA700B;

  /* グレー系 */
  --color-grey-91: #E5E7EB; /* grey.91 - ボーダー等 */
  --color-grey-96: #F3F4F6; /* grey.96 - 薄い背景 */

  /* テキストカラー */
  --color-text: #374151; /* azure.27 */
  --color-text-muted: #6B7280; /* grey.46 */

  /* エラー */
  --color-error: #DC2626; /* red.51 */

  /* タグ背景色 */
  --color-tag-site: #ECF3F0; /* タグ-サイト種別 */
  --color-tag-service: #F7F4E9; /* タグ-サービス */

  /* 技術ブランドカラー */
  --color-brand-html: #E34F26; /* red.52 - HTML */
  --color-brand-javascript: #F7DF1E; /* yellow.54 - JavaScript */
  --color-brand-typescript: #3178C6; /* azure.48 - TypeScript */
  --color-brand-react: #61DAFB; /* cyan.68 - React */
  --color-brand-astro: #BC52EE; /* violet.63 - Astro */
  --color-brand-tailwind: #36C7D0; /* cyan.51 - Tailwind */
  --color-brand-wordpress: #21759B; /* azure.37 - WordPress */
  --color-brand-docker: #2496ED; /* azure.54 - Docker */
  --color-brand-blue: #4169E1; /* blue.57 */

  /* ボタン影 */
  --shadow-button: 0px 5px 0px 0px rgba(61, 61, 61, 0.2);

  /* カード影 */
  --shadow-card: 0px 2px 10px 0px rgba(0, 0, 0, 0.16);

  /* ===== レイアウト ===== */

  /* コンテナ幅 */
  --max-width-container: 1440px;
  --max-width-content: 800px;

  /* サイドバー幅（w-sidebar, ps-sidebar等で使用） */
  --spacing-sidebar: 200px;

  /* ヘッダー高さ */
  --height-header: 80px;

  /* 最小高さ */
  --min-height-page: calc(100dvh - var(--height-header));

  /* ===== タイポグラフィ ===== */

  /* フォントサイズ（Figmaトークン） */
  --font-size-2xs: 0.625rem; /* 10px */
  --font-size-xs: 0.75rem; /* 12px */
  --font-size-xs-plus: 0.8125rem; /* 13px */
  --font-size-sm: 0.875rem; /* 14px */
  --font-size-sm-plus: 0.9375rem; /* 15px */
  --font-size-base: 1rem; /* 16px */
  --font-size-lg: 1.125rem; /* 18px */
  --font-size-xl: 1.25rem; /* 20px */
  --font-size-2xl: 1.5rem; /* 24px */
  --font-size-3xl: 1.875rem; /* 30px */
  --font-size-4xl: 2.25rem; /* 36px */
  --font-size-5xl: 3rem; /* 48px */

  /* レスポンシブフォントサイズ */
  --font-size-section-title: clamp(2.25rem, 2rem + 1.5vw, 3rem); /* セクションタイトル: 36px → 48px */
  --font-size-section-subtitle: clamp(1rem, 0.9rem + 0.5vw, 1.125rem); /* セクションサブタイトル: 16px → 18px */

  /* 行間（Figmaトークン） */
  --leading-tight: 1.25; /* 20px base */
  --leading-snug: 1.375;
  --leading-normal: 1.5;
  --leading-normal-plus: 1.6; /* フォーム等の行間 */
  --leading-relaxed: 1.625; /* 26px base */
  --leading-relaxed-plus: 1.8; /* 本文の読みやすい行間 */
  --leading-loose: 2;

  /* 字間（Figmaトークン） */
  --tracking-tight: 0.35px; /* letter-spacing.0_35 */
  --tracking-normal: 0.5px; /* letter-spacing.0_5 */

  /* ===== 間隔 ===== */
  --spacing-15: 60px; /* aboutページのセクション余白 */
  --spacing-1-25: 5px; /* ハンバーガーメニューのline間隔 */

  /* ===== ボーダー ===== */
  --border-width-1: 1px; /* stroke-weight.1 */
  --border-width-2: 2px; /* stroke-weight.2 */
  --border-width-3: 3px; /* stroke-weight.3 / プロフィール画像の枠線 */

  /* ===== z-index ===== */
  --z-modal: 60; /* モバイルメニューボタン */
  --z-overlay: 49; /* オーバーレイ背景 */

  /* ===== その他 ===== */

  /* アスペクト比 */
  --aspect-card: 16/10; /* Works実績カードの画像比率 */

  /* translate */
  --translate-hamburger: 5px; /* ハンバーガーアイコンのアニメーション移動量 */

  /* 背景 */
  --background-image-marker: linear-gradient(transparent 60%, rgba(61, 139, 110, 0.3) 60%); /* ヒーローのマーカー効果 */
  --background-size-zero: 0% 100%; /* マーカーアニメーション開始状態 */

  /* アニメーション */
  --animate-marker-draw: marker-draw 1s ease-out 0.3s forwards; /* ヒーローのマーカー描画アニメーション */
}

@keyframes marker-draw {
  from {
    background-size: 0% 100%;
  }
  to {
    background-size: 100% 100%;
  }
}

/* スクロールバー非表示 */
@utility scrollbar-none {
  scrollbar-width: none;
  -webkit-overflow-scrolling: touch;
  &::-webkit-scrollbar {
    display: none;
  }
}

/* セレクトボックスの矢印位置（右端）*/
@utility bg-position-select {
  background-position: right 16px center;
}

/* セレクトボックスの矢印サイズ */
@utility bg-size-select {
  background-size: 16px 16px;
}

/* モバイルスライダーのカード幅 */
@utility basis-card {
  flex-basis: 85%;
}

/* ===== プログレスバー ===== */

/* プログレスバーコンテナ */
.progressbar {
  display: flex;
  flex-wrap: wrap;
  list-style: none;
  padding: 0;
  margin: 0;
}

/* プログレスバー各ステップ */
.progressbar .item {
  position: relative;
  width: 33%;
  text-align: center;
  padding: 13px 0;
  line-height: 1.5;
  background: var(--color-grey-91);
  color: var(--color-text-muted);
  border-radius: 8px 0 0 8px;
}

.progressbar .item:not(:first-child) {
  border-radius: 0;
}

.progressbar .item:last-child {
  border-radius: 0 8px 8px 0;
}

/* 矢印形状（border使用） */
.progressbar .item:not(:last-child)::before,
.progressbar .item:not(:last-child)::after {
  position: absolute;
  z-index: 2;
  top: 0;
  bottom: 0;
  left: 100%;
  content: '';
  border: 37px solid transparent;
  border-left: 20px solid var(--color-grey-91);
  margin: auto;
}

.progressbar .item:not(:last-child)::before {
  margin-left: 1px;
  border-left-color: #FFF;
}

/* アクティブ状態 */
.progressbar .item.active {
  z-index: 1;
  background: var(--color-primary);
  color: #FFF;
}

.progressbar .item.active:not(:last-child)::after {
  border-left-color: var(--color-primary);
}

.progressbar .item.active:not(:last-child)::before {
  border-left: none;
}

/* レスポンシブ */
@media screen and (max-width: 767px) {
  .progressbar .item {
    font-size: 11px;
    line-height: 1.4;
    padding: 10px 0;
    border-radius: 6px 0 0 6px;
  }

  .progressbar .item:last-child {
    border-radius: 0 6px 6px 0;
  }

  .progressbar .item:not(:last-child)::before,
  .progressbar .item:not(:last-child)::after {
    border-width: 25px;
    border-left-width: 12px;
  }
}

